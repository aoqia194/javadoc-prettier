var f=["❄","❅","❆"];function q(){let m="";function t(c){let r=document.activeElement;if(!r)return;if(!(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.tagName==="SELECT"||r.isContentEditable)){if(c.key&&c.key.length===1)m+=c.key.toLowerCase();if(m.includes("christmas"))G(),m="",document.removeEventListener("keydown",t);if(m.length>9)m=m.slice(-9)}}document.addEventListener("keydown",t)}function G(){K()}var b=[],E=new WeakMap,x;function K(){x=document.createElement("div"),x.id="snowflake-container",x.style.willChange="contents",document.body.appendChild(x);let m=50;for(let t=0;t<m;t++){let c=F(),r=E.get(c);r.y=Math.random()*globalThis.innerHeight-globalThis.innerHeight}e()}function A(){let m=document.createElement("div");return m.classList.add("snowflake-object"),x.appendChild(m),m}function H(m){let t=f[Math.floor(Math.random()*f.length)],c=Math.random()*20+20;m.textContent=t,m.style.fontSize=`${c}px`,m.style.opacity=`${Math.random()*0.6+0.4}`,m.style.willChange="transform",E.set(m,{x:Math.random()*innerWidth,y:-50,speed:Math.random()*1.5+0.5,drift:(Math.random()-0.5)*0.5,rotation:0,rotationSpeed:(Math.random()-0.5)*4}),L(m)}function L(m){let t=E.get(m);m.style.transform=`translate3d(${t.x}px, ${t.y}px, 0px) rotate(${t.rotation}deg)`}function F(){let m=A();return H(m),b.push(m),m}function e(){for(let m=b.length-1;m>=0;m--){let t=b[m],c=E.get(t);if(c.x+=c.drift,c.y+=c.speed,c.rotation+=c.rotationSpeed,c.y>innerHeight)H(t);else L(t)}requestAnimationFrame(e)}var z=new Set(["byte","short","int","long","float","double","char","boolean","void"]),Y=new Set(["class","interface","enum","extends","implements","native","protected","private","public","static","final","throws"]);var U={modifierTypePattern:/(?<whitespace>\s+)|(?<syntax>[<>(),;.])|(?<word>\w+(?:\.\w+)*)/g,parameterList:/(?<type>\b[\w.]*\w)[\s\u00A0]+(?<name>\w+)/g,searchListField:/(?<className>\w+)\.+(?<name>\w+)/,searchListConstructor:/(?<![\w.])(?<className>[^\W.]+)\((?<paramList>[^)]*)\)/,searchListMethod:/(?<className>\w+)\.(?<name>\w+)\((?<paramList>[^)]*)\)/},u={theme:{error:"theme-error",keyword:"theme-keyword",primitive:"theme-type-primitive",class:"theme-type-class",unresolved:"theme-type-unresolved",fieldName:"theme-field-name",comment:"theme-comment",methodName:"theme-method-name",parameterName:"theme-parameter-name",syntax:"theme-syntax"}},d={inheritedList:".inherited-list",inheritanceTree:".inheritance",classDescription:"#class-description",summaryTable:".summary-table",detailsBlock:".detail .member-signature",methodDetailsToc:".toc-list > li:nth-child(8) > .toc-list > li > a"},o={nestedClassSummary:"nested-class-summary",fieldSummary:"field-summary",constructorSummary:"constructor-summary",methodSummary:"method-summary",fieldDetails:"field-detail",constructorDetails:"constructor-detail",methodDetails:"method-detail"};var h={trace:(...m)=>console.trace("[javadoc-prettier]",...m),debug:(...m)=>console.debug("[javadoc-prettier]",...m),info:(...m)=>console.info("[javadoc-prettier]",...m),warn:(...m)=>console.warn("[javadoc-prettier]",...m),error:(...m)=>console.error("[javadoc-prettier]",...m)};function X(m){return m.slice(0,m.lastIndexOf("."))}function y(m){let t=document.createTreeWalker(m,NodeFilter.SHOW_TEXT,null),c=[],r;while(r=t.nextNode())c.push(r);return c}function I(m){if(!(m instanceof HTMLElement)||s(m))return;Array.from(m.childNodes).forEach((c)=>{if(c.nodeType!==Node.TEXT_NODE){if(c.nodeType===Node.ELEMENT_NODE&&c instanceof HTMLAnchorElement)c.classList.add(u.theme.class);return}n(c)})}function n(m){let t=v(m.data);if(t.length===0)return;P(m,t)}function P(m,t,c){let r=document.createDocumentFragment();t.forEach((l)=>{if(c)l.type=c;if(l.type==="keyword"){let i=document.createElement("span");i.textContent=l.value,i.classList.add(u.theme.keyword),r.appendChild(i)}else if(l.type==="primitive"){let i=document.createElement("span");i.textContent=l.value,i.classList.add(u.theme.primitive),r.appendChild(i)}else if(l.type==="class"){let i=document.createElement("span");if(i.textContent=l.value,l.value.includes(".")&&!(m.parentElement instanceof HTMLAnchorElement))i.classList.add(u.theme.unresolved),i.title=`unresolved type in ${X(l.value)}`;else i.classList.add(u.theme.class);r.appendChild(i)}else if(l.type==="field"){let i=document.createElement("span");i.textContent=l.value,i.classList.add(u.theme.fieldName),r.appendChild(i)}else if(l.type==="syntax"){let i=document.createElement("span");i.textContent=l.value,i.classList.add(u.theme.syntax),r.appendChild(i)}else if(l.type==="unknown"){let i=document.createElement("span");i.textContent=l.value;let a=m.parentElement,g=a.parentElement;if(a instanceof HTMLAnchorElement)i.classList.add(u.theme.class);else if(a.classList.contains("parameters")||g.classList.contains("method-summary-table")||a.firstElementChild?.classList.contains("member-name-link"))i.classList.add(u.theme.parameterName);else if(a.nextSibling?.nodeType===Node.TEXT_NODE&&a.nextSibling?.textContent?.startsWith("(")||g.querySelector(".parameters"))i.classList.add(u.theme.methodName);else{let w=t[t.length-1];if(w.type!=="syntax"&&!w.value.endsWith(")"))i.classList.add(u.theme.fieldName);else i.classList.add(u.theme.error)}r.appendChild(i)}else r.append(l.value)}),m.replaceWith(r)}function v(m){let t=[],c;while((c=U.modifierTypePattern.exec(m))!==null){let r=c[0],l=Object.keys(c.groups).find((i)=>c.groups[i]);if(r.length===0)continue;if(l==="word")if(Y.has(r))t.push({type:"keyword",value:r});else if(z.has(r))t.push({type:"primitive",value:r});else if(r[0]>="a"&&r[0]<="z"&&r.includes("."))t.push({type:"class",value:r});else t.push({type:"unknown",value:r});else t.push({type:l,value:r})}return t}function j(){h.debug("Parsing class descriptions..."),O(document.querySelector(d.classDescription))}function O(m){if(!(m instanceof HTMLElement)||s(m))return;let t=m.style.display;m.style.display="none",T(m.querySelector(".notes > dd > code")),_(m.querySelector(".modifiers")),C(m.querySelector(".extends-implements")),m.style.display=t}function T(m){if(!m)return;I(m)}function _(m){if(!m)return;y(m).forEach(n)}function C(m){if(!m)return;Array.from(m.childNodes).forEach((t)=>{if(t.nodeType!==Node.TEXT_NODE){if(t.nodeType===Node.ELEMENT_NODE&&t instanceof HTMLAnchorElement)t.classList.add(u.theme.class);return}n(t)})}function J(){h.debug("Parsing summary tables..."),M(o.fieldDetails),M(o.constructorDetails),M(o.methodDetails)}function M(m){let t=document.getElementById(m);if(!t){h.debug(`No details section with id ${m} found.`);return}let c=t.style.display;t.style.display="none",t.querySelectorAll(d.detailsBlock).forEach(p),t.style.display=c}function p(m){if(!(m instanceof HTMLElement)||s(m))return;y(m).forEach(n),m.parentElement?.querySelector(".block")?.classList.add(u.theme.comment)}function Q(){h.debug("Styling header text...");let m=document.querySelector("div.about-language");if(!m||!(m instanceof HTMLElement)||s(m))return;let t=m.textContent;m.replaceChildren();let c=document.createElement("a");c.classList.add("repository-link"),c.textContent=t,c.title="Theme support from javadoc-prettier \uD83D\uDC9D";let r=globalThis.location.hostname;if(r.endsWith(".github.io")){let l=r.split(".")[0],i=globalThis.location.pathname.replaceAll("/","");c.href=`https://github.com/${l}/${i}`}m.appendChild(c)}function Z(){h.debug("Parsing inheritance trees..."),document.querySelectorAll(d.inheritanceTree).forEach(S)}function S(m){if(!(m instanceof HTMLElement)||s(m))return;let t=m.firstElementChild;if(!t)return;t.classList.add(u.theme.class)}function B(){h.debug("Parsing summary tables..."),N(o.nestedClassSummary),N(o.fieldSummary),N(o.constructorSummary),N(o.methodSummary)}function N(m){let t=document.getElementById(m);if(!t){h.debug(`No summary table with id ${m} found.`);return}let c=t.style.display;t.style.display="none",k(m,t.querySelector(d.summaryTable)),t.querySelectorAll(d.inheritedList).forEach(tm),t.style.display=c}function k(m,t){if(!(t instanceof HTMLElement)||s(t))return;let c=t.classList.contains("three-column-summary"),r=t.classList.contains("two-column-summary");if(c){let l=m===o.nestedClassSummary||m===o.fieldSummary?D:V;t.querySelectorAll(".col-first > code").forEach(mm),t.querySelectorAll(".col-second > code").forEach(l),t.querySelectorAll(".col-last > .block").forEach(W)}else if(r){let l=m===o.constructorSummary?V:D,i=m===o.constructorSummary?".col-constructor-name":".col-first";t.querySelectorAll(`${i} > code`).forEach(l),t.querySelectorAll(".col-last > code").forEach(W)}else h.warn("Summary table found that isn't three/two column.")}function mm(m){y(m).forEach(n)}function D(m){if(m.childElementCount!==1){h.warn("Summary table with name child size !== 1");return}let t=m.firstElementChild;if(t.nodeType!==Node.ELEMENT_NODE){h.warn("Summary table name had a single node but the wrong type.");return}let c=u.theme.fieldName;if(t.textContent.includes("."))c=u.theme.class;t.classList.add(c)}function V(m){m.querySelector(".member-name-link").classList.add(u.theme.methodName),y(m).filter((t)=>!t.parentElement?.classList.contains("member-name-link")).forEach(n)}function W(m){m.classList.add(u.theme.comment)}function tm(m){if(!(m instanceof HTMLElement)||s(m))return;m.querySelector("h3 > a:first-child").classList.add(u.theme.class);let t=m.parentElement?.id.startsWith("field"),c=m.parentElement?.id.startsWith("method"),r=u.theme.class;if(t)r=u.theme.fieldName;else if(c)r=u.theme.methodName;y(m.querySelector("code")).forEach((i)=>{if(i.parentElement instanceof HTMLAnchorElement){i.parentElement.classList.add(r);return}})}function R(){Z(),j(),B(),J(),Q()}function s(m){if(m.dataset.javadocPrettierParsed)return!0;return m.dataset.javadocPrettierParsed="1",!1}function cm(m=3000){return new Promise((t,c)=>{let r=setInterval(()=>{if(memberSearchIndex!=null&&moduleSearchIndex!=null&&packageSearchIndex!=null&&tagSearchIndex!=null&&typeSearchIndex!=null)clearInterval(r),clearTimeout(l),t()},100),l=setTimeout(()=>{clearInterval(r),c(Error("Timed out waiting on javadoc's index scripts"))},m)})}document.addEventListener("DOMContentLoaded",rm);async function rm(){try{let m=performance.now();await cm().then(()=>{let r=performance.now();h.info(`Waiting for indexes took ${Number.parseFloat(`${r-m}`).toFixed()}ms`)}).catch((r)=>{h.error("Waiting for indexes raised an error:",r);return}),$.ui.autocomplete;let t=performance.now();R();let c=performance.now();h.info(`Element parser took ${Number.parseFloat(`${c-t}`).toFixed()}ms!`),q()}catch(m){h.error("An error occurred that stopped the script:",m)}}
